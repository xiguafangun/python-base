# 第十课：面向对象

## 面向对象编程 _Object-oriented programming_

面向对象编程这个概念，刚接触过编程的同学可能都会听说过。而 python 从设计之初就已经是一门面向对象的语言，也正因为如此我们可以很方便地在 python 中使用面向对象编程的思想。

与面向对象相对的是面向过程编程，传统的 C 语言就是面向过程为主。主要是按照业务流程把梳理代码顺序执行。当业务逻辑清晰，业务规模不大的情况下当然没问题。一旦业务规模庞大，逻辑不清楚，增加需求的时候，开发难度就会曾几何数递增。

面向对象开发中会把对应的事物都抽象成对象的概念，这样子我们在增加对应业务时只需要增加相应的对象类，而无需改变其他类就能达到我们的目的。

面向对象的三大基本特征是：`封装`、`继承`、`多态`。随着这篇文章的深入我们会一一深入学习这三个基本特征。

## 类的定义 _class_

在面向过程的编程方式中，如果我们要定义一些人名与欢迎语，并用方法执行，我们通常会写出以下代码。

```python
xiaoming = {'name': '小明', 'hello': '你好'}
kelly = {'name': 'Kelly', 'hello': 'hello'}

def say_hello(human):
    print('{}：{}'.format(human['name'], human['hello']))

say_hello(xiaoming)
say_hello(kelly)
```

输出

```output
小明：你好呀
Kelly：hello
```

在人物数量不多时，代码结构还是很清晰的，可是一旦人物数量变多了，就是一个灾难。

```python
xiaoming = {'name': '小明', 'hello': '你好'}
kelly = {'name': 'Kelly', 'hello': 'hello'}
xiaoli = {'name': '小李', 'hello': '雷猴啊'}
lotus = {'name': 'Lotus', 'helo': 'bonjour'}

def say_hello(human):
    print('{}：{}'.format(human['name'], human['hello']))

say_hello(xiaoming)
say_hello(kelly)
say_hello(xiaoli)
say_hello(lotus)
```

报错

```output
小明：你好
Kelly：hello
小李：雷猴啊
Traceback (most recent call last):
  File ".\first.py", line 14, in <module>
    say_hello(lotus)
  File ".\first.py", line 8, in say_hello
    print('{}：{}'.format(human['name'], human['hello']))
KeyError: 'hello'
```

大量的重复代码已经是个灾难，一不小心写错一个字母还引起了程序的崩溃。此时如果再加上 `say_bye`等几个方法，代码结构将会更加混乱不堪。

接着我们用面向对象的思维来改造我们的代码，类的定义一定程度上就对应着基本特征`封装`。

```python
class Human:
    # 定义了一个类

    def __init__(self, name, hello):
        # 构造函数
        self.name = name
        self.hello = hello

    def say_hello(self):
        # 类的方法
        print('{}：{}'.format(self.name, self.hello))

# 实例化我们的对象
xiaoming = Human('小明', '你好呀')
kelly = Human('Kelly', 'hello')
xiaoli = Human('小李', '雷猴啊')
lotus = Human('Lotus', 'bonjour')


xiaoming.say_hello()
kelly.say_hello()
xiaoli.say_hello()
lotus.say_hello()
```

输出

```output
小明：你好呀
Kelly：hello
小李：雷猴啊
Lotus：bonjour
```

此时的 `Human` 就是我们定义的类，从面向对象编程来说就相当于封装了一个对象类。然后通过`Human`这个类创造了两个实例`小明`与 `kelly`。

在`python`中我们通过 class 来定义一个对象类，指定了类应当有的属性与方法。将相关的`属性`与`方法`封装到对象中，是来源于现实世界的一个设计思想。因为现实世界中的任何物体都有其对应的`属性`（组成部分）与`方法`（能干嘛）。

比如一个手机，它有屏幕、处理器、摄像头等等属性，有打电话、玩游戏、看电影等等方法。一个人，有姓名、身高、学历等等属性，有交流、工作、学习等等方法。
