# 第四课：函数

## 函数调用 _Function calls_

在程序里面，我们定义一个函数通常是为了将这部分代码重复使用。你可以为一个函数指定名字，定义可执行的语句。让它加班加点的为我们做重复劳动，压榨机器人的价值。

之前我们使用过的 `type` 与 `print` 就是函数。

```python
type(10)
```

这里 `type` 就是函数名，括号中的 10 是一个参数。参数是我们传给函数的值或变量。`type` 函数这里的作用是返回参数的类型，此时类型就是 `type` 的返回值。

## 内建函数 _Built-in functions_

python 提供了一些内建函数使我们无需定义就能直接使用。

例如下面的 `max` 与 `min` 函数的作用是返回所给参数中的最大值和最小值。

```python
print('最大值：', max(1, 8, 3, 5))
print('最小值：', min(1, 8, 3, 5))
```

输出

```output
最大值： 8
最小值： 1
```

`len` 函数则能告诉我们一个字符串中有多少个字符。

```python
print(len('小明是个傻X'))
```

输出

```output
6
```

`len` 函数还可计算一些类型的成员数，这将在之后提到。

## 类型转换函数 _Type conversion functions_

python 中提供了一些函数给我们转换类型，它们同样属于内建函数。例如 `int`、`str` 和 `float`。

例如 `n` 虽然书面意思是数字，但被包含在单引号中属于 `str` 类型。我们只需用 `int` 函数就能转换其为 `int` 类型。

```python
n = '123'
print(type(n))
n = int(n)
print(type(n))
```

输出

```output
<class 'str'>
<class 'int'>
```

同样我们可以用 `float` 对带小数的 `str` 类型进行同样操作。

```python
n = '34.12'
print(type(n))
n = float(n)
print(type(n))
```

输出

```output
<class 'str'>
<class 'float'>
```

当然我们也可以用 `str` 进行类型转换。

```python
n = 34.12
print(type(n))
n = str(n)
print(type(n))
```

输出

```output
<class 'float'>
<class 'str'>
```

## 数学函数 _Math functions_

Python 提供了 `math` 模块供我们进行一些数学上的操作。

在引入其他模块时我们使用的是 `import` 关键字。我们在引入之后直接 `print` 可以看到一些基本信息，并且能通过 `print(math.**doc**)` 查看其自身的描述。

```python
import math

print(math)
print(math.__doc__)
```

输出

```output
<module 'math' (built-in)>
This module provides access to the mathematical functions
defined by the C standard.
```

引入 math 模块后我们往往一脸茫然无可下手，不知其能干嘛不知如何去使用。

用内建的 `dir` 函数能帮我们看到模块内部都有什么方法。

```python
print(dir(math))
```

输出

```output
['__doc__', '__loader__', '__name__', '__package__', '__spec__', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atan2', 'atanh', 'ceil', 'comb', 'copysign', 'cos', 'cosh', 'degrees', 'dist', 'e', 'erf', 'erfc', 'exp', 'expm1', 'fabs', 'factorial', 'floor', 'fmod', 'frexp', 'fsum', 'gamma', 'gcd', 'hypot', 'inf', 'isclose', 'isfinite', 'isinf', 'isnan', 'isqrt', 'ldexp', 'lgamma', 'log', 'log10', 'log1p', 'log2', 'modf', 'nan', 'perm', 'pi', 'pow', 'prod', 'radians', 'remainder', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'tau', 'trunc']
```

看到这些方法是不是有一股熟悉的感觉，我们还可以调用方法的 **doc** 方法知道他的基本描述。

```python
print(math.log.__doc__)
print(math.pow.__doc__)
```

输出

```output
log(x, [base=math.e])
Return the logarithm of x to the given base.

If the base not specified, returns the natural logarithm (base e) of x.
Return x**y (x to the power of y).
```

学好英语很重要，能帮我们省去绕很多弯路的力气，直达问题的最终答案。不然要靠百度去吸收二手答案，可想会耗费多大力气。

接着我们完成一个运用勾股定理对直角三角形求斜边的程序。

```python
import math

a = float(input('请输入一个直角边长度：'))
b = float(input('请输入另一个直角边长度：'))
print('斜边的长度是：', math.sqrt(math.pow(a, 2) + math.pow(b, 2)))
```

## 随机数 _Random numbers_

随机是我们日常生活中不或缺的一部分，比如我们抽奖是一个随机事件，天气是一个随机事件，晚上回家吃什么大概率也是个随机事件。

python 里面的 `random` 模块就提供了生成随机数的方法。`random` 模块中的 `random` 方法的作用是返回一个 0 到 1 的浮点数（包括 0 不包括 1）。

我们下面打印了三个随机数，每次都不一样。

```python
import random

print(random.random())
print(random.random())
print(random.random())
```

输出

```output
0.7174432452813149
0.8797376860445014
0.22724064581942438
```

我们还能用 `randint` 方法，返回一个随机的整数。`randint` 方法接收两个参数 `a` 和 `b`，返回 `a` 与 `b` 之间的数（包括 `a` 与 `b`）。

```python
import random

print(random.randint(1, 5))
print(random.randint(1, 5))
print(random.randint(1, 5))
```

输出

```output
2
5
4
```

此时我们就能用 randint 方法决定我们晚饭吃啥了（下面的写法比较累赘，我们之后学到列表时会有更好的写法）。

```python
import random

choice = random.randint(1, 5)

if choice == 1:
    print('吃鱼')
elif choice == 2:
    print('吃虾')
elif choice == 3:
    print('吃面')
elif choice == 4:
    print('吃肉')
elif choice == 5:
    print('吃土')
```

输出

```output
吃土
```

我今晚吃土，你们呢？

## 定义函数 _Adding new functions_

到目前为止我们都还是用的 python 的内建函数，我们同样也可以自己定义一些函数。函数的目的是为了封装一些重复性的代码，避免重复造轮子，同时方便将功能直接给其他开发者调用。

下面我们定义一个函数，接着调用它。

```python
def say_hello():
    print('叔叔阿姨早上好')
    print('哥哥姐姐晚上好')

say_hello()
```

输出

```output
叔叔阿姨早上好
哥哥姐姐晚上好
```

`def` 在这里表明我们定义了一个函数，后面紧接着的就是其函数名`say_hello`。函数名的选择类似于变量名，应避开 python 的关键字，不能以数字开头，尽量使名字有意义等。

函数名后面的`空括号()`表示这个函数不需要传递任何参数。

`def say_hello():` 为其函数头的定义。从`:`往后的内容是函数的执行代码块。一般另起一行，以`缩进（Tab）`作为区分。
